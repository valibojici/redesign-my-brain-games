<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./attentional-blink.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&family=Roboto+Mono:wght@400&display=swap" rel="stylesheet">

    <script src="./attentional-blink.js" defer></script>
    <title>Attentional blink</title>
</head>
<body>
    <div id="start-container" class="flex-container">
        <div id="title-outer">
            <h1 id='title'>Attentional blink test</h1>
        </div>

        <div id="instructions-container" class="flex-container">
            <p id='instructions' class="preserve-space">You will see a series of symbols in the center of your screen, one at a time. The symbols may be letters or digits. You must memorize the only 2 digits and repeat them at the end. In 'slow' rounds there are 1 or 2 letters between the 2 digits, in 'fast' rounds the second digit is right after the first one. Sometimes the first digit will be a different color. For every 3 wrong answers the symbols will change slower and for every 4 correct answers the symbols will change faster. Use the sliders to change the default values.</p>
            <button id='start-btn' class="button">START</button>

            <div class="input-container flex-container">
                <input type="range" id="initial-slow-duration" min="50" max="300" step="25" value="125" oninput = "updateText('initial-slow-duration-value', this.value);">
                <label for="initial-slow-duration">Initial symbol duration (slow) : <span id='initial-slow-duration-value'></span>ms</label>
            </div>
            
            <div class="input-container flex-container">
                <input type="range" id="initial-fast-duration" min="50" max="300" step="25" value="125" oninput = "updateText('initial-fast-duration-value', this.value);">    
                <label for="initial-fast-duration">Initial symbol duration (fast) : <span id='initial-fast-duration-value'></span>ms</label>
            </div>
            
            <div class="input-container flex-container">
                <input type="range" id="initial-slow-count" min="0" max="50" step="5" value="15" oninput = "updateText('initial-slow-value', this.value);">    
                <label for="initial-slow-count">Total slow runs: <span id='initial-slow-value'></span></label>
            </div>
            
            <div class="input-container flex-container">
                <input type="range" id="initial-fast-count" min="0" max="50" step="5" value="15" oninput = "updateText('initial-fast-value', this.value);">
                <label for="initial-fast-count">Total fast runs: <span id='initial-fast-value'></span></label>
            </div>
        </div>
    </div>

    <div id="game-container" class="hide">
        <div id="rounds"> 50 </div>

        <div id="countdown"> 3 </div>
        
        <div id="game-info-container">
            <span id="correct-squares" class="flex-container">
                <span class="square green-square"></span>
                <span class="square green-square"></span>
                <span class="square green-square"></span>
            </span>
            <span id="symbol-duration" class="flex-container preserve-space">Symbol duration: <span id='milliseconds'>500</span></span>
            <span id="incorrect-squares" class="flex-container">
                <span class="square red-square"></span>
                <span class="square red-square"></span>
            </span>
        </div>

        <div id="game-inner-container" class="flex-container">
            <p id="symbol"></p>
            <div id="input-container" class="grid-container">
                <div id='first-digit-container'>
                    <label id='first-digit-label' for="first-digit" class='preserve-space digit-label'>First digit: </label>
                    <input type="text" id='first-digit' maxlength="1" autocomplete="off">
                </div>
                <div id='second-digit-container'>
                    <label id='second-digit-label' for="second-digit" class='preserve-space digit-label'>Second digit: </label>
                    <input type="text" id='second-digit' maxlength="1" autocomplete="off">
                </div>
                <div id='confirm-text'>Press enter to continue</div>
                <div id="error-msg" class="hide">Enter 2 digits.</div>
            </div>
        </div>

    </div>

    <div id="results-container" class="hide flex-container">
        <div id='results' class="flex-container">
            <div>SLOW</div>
            <div>Correct answers: <span id="correct-slow-answers">5</span></div>
            <div>Incorrect answers: <span id="incorrect-slow-answers">22</span></div>
            <div>Accuracy: <span id="slow-accuracy">33</span>%</div>
            <hr>
            
            <div>FAST</div>
            <div>Correct answers: <span id="correct-fast-answers">5</span></div>
            <div>Incorrect answers: <span id="incorrect-fast-answers">22</span></div>
            <div>Accuracy: <span id="fast-accuracy">33</span>%</div>
            
            <hr>
            <div>Overall accuracy: <span id="overall-accuracy">33</span>%</div>
            <br>
            <button id='try-again-btn' class="button">TRY AGAIN</button>
        </div>
    </div>

</body>
</html>